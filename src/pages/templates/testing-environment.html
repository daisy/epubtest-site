{%- extends 'base/base.html' -%}
{%- import "components/answer-set.html" as answerSetComponent -%}
{%- import "components/testing-environment-details.html" as testingEnvironmentDetails -%}
{%- import "components/reading-system-name.html" as readingSystemName -%}
{%- block content -%}

    <h1>
        {{ readingSystemName.ReadingSystemName(testingEnvironment.readingSystem) }}
    </h1>
    <div class="twocol spaced">
        {{ testingEnvironmentDetails.TestingEnvironmentDetails(testingEnvironment) }}
    </div>
    
    <div class="split">
        <nav class="side" aria-labelled-by="topics-title">
            <h2>Topics</h2>
            <ul>
                {%- for answerSet in testingEnvironment.answerSetsByTestingEnvironmentId.nodes -%}
                <li><a href="#{{answerSet.id}}">{{getTopicName(answerSet.testBook.topic.id)}}</a></li>
                {%- endfor -%}
            </ul>        
        </nav>
        
        <div class="content">
            {%- for answerSet in testingEnvironment.answerSetsByTestingEnvironmentId.nodes -%}
            {{ answerSetComponent.AnswerSet(answerSet) }}
            {%- endfor -%}
        </div>
    </div>
{%- endblock -%}